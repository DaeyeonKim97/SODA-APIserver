<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soda.apiserver.restaurant.dao.UserFavoriteMapper">
    <select id="insertUserFavoriteData" resultType ="UserFavoriteDTO">
        INSERT INTO TBL_USER_FAVORIT
        (
              USER_FAVORIT_ID
            , USER_ID
            , CATEGORY_ID
        )
        VALUES
        (
              SEQ_USER_FAVORIT_ID.NEXTVAL
            , #{userId}
            , #{categoryId}
        )
    </select>
    <select id="selectUserFavoriteById" parameterType="String" resultType="userFavoriteDto">
        <![CDATA[
            SELECT
                *
            FROM TBL_USER_FAVORIT
            WHERE User_ID = #{userId}

        ]]>
    </select>
    <select id="selectUserFavoriteById2" parameterType="String" resultType="String">
        <![CDATA[
        SELECT
             B.CATEGORY_NAME
        FROM TBL_USER_FAVORIT A
                 JOIN TBL_CATEGORY B ON ( A.CATEGORY_ID = B.CATEGORY_ID)
        WHERE USER_ID = #{ userId }
        ]]>
    </select>
</mapper>